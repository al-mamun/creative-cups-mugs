{% comment %}
  Footer Section
  Fully Dynamic with Customizable Columns and Links
{% endcomment %}

<footer class="footer">
  <div class="container">
    <div class="footer__main">
      <div class="footer__grid">
        <!-- Brand Column -->
        <div class="footer__column footer__column--brand">
          {% if section.settings.show_logo %}
            <div class="footer__logo">
              {% if section.settings.logo_image != blank %}
                <img src="{{ section.settings.logo_image | img_url: '240x' }}" alt="{{ shop.name }}" loading="lazy">
              {% else %}
                <svg
                  class="footer__logo-svg"
                  width="240"
                  height="40"
                  viewBox="0 0 240 40"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g fill="#ffffff">
                    <path d="M8 12c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2v8c0 2.2-1.8 4-4 4s-4-1.8-4-4v-8z" />
                    <path d="M16 14h2c1.1 0 2 .9 2 2s-.9 2-2 2h-2v-4z" />
                    <ellipse cx="12" cy="26" rx="6" ry="1" />
                  </g>
                  <text x="28" y="24" font-family="Playfair Display, serif" font-size="14" font-weight="700" fill="#ffffff">
                    {{ section.settings.brand_text | default: shop.name }}
                  </text>
                  <circle cx="225" cy="10" r="2" fill="#b39855" opacity="0.6" />
                  <circle cx="230" cy="18" r="1.5" fill="#ffffff" opacity="0.4" />
                  <circle cx="235" cy="26" r="1" fill="#b39855" opacity="0.8" />
                </svg>
              {% endif %}
            </div>
          {% endif %}

          {% if section.settings.description != blank %}
            <p class="footer__description">
              {{ section.settings.description }}
            </p>
          {% endif %}

          {% if section.settings.show_social %}
            <div class="footer__social">
              {% if section.settings.instagram_url != blank %}
              <a href="{{ section.settings.instagram_url }}" class="footer__social-link" aria-label="Instagram" target="_blank" rel="noopener">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                  <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                  <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
              </a>
              {% endif %}
              {% if section.settings.facebook_url != blank %}
              <a href="{{ section.settings.facebook_url }}" class="footer__social-link" aria-label="Facebook" target="_blank" rel="noopener">
                <svg width="20" height="20" fill="currentColor">
                  <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3Z" />
                </svg>
              </a>
              {% endif %}
              {% if section.settings.pinterest_url != blank %}
              <a href="{{ section.settings.pinterest_url }}" class="footer__social-link" aria-label="Pinterest" target="_blank" rel="noopener">
                <svg width="20" height="20" fill="currentColor">
                  <path d="M10 2C5.58 2 2 5.58 2 10c0 3.54 2.29 6.53 5.47 7.59-.07-.69-.13-1.73.03-2.47l.8-3.39s-.2-.41-.2-.99c0-.93.54-1.62 1.21-1.62.57 0 .85.43.85.94 0 .57-.36 1.43-.55 2.22-.16.67.34 1.21 1 1.21 1.2 0 2.12-1.26 2.12-3.08 0-1.61-1.16-2.74-2.81-2.74-1.92 0-3.04 1.44-3.04 2.93 0 .58.22 1.2.5 1.54.05.07.06.12.04.19l-.18.76c-.03.11-.1.14-.24.08-1.09-.51-1.77-2.1-1.77-3.38 0-2.76 2-5.3 5.76-5.3 3.02 0 5.37 2.15 5.37 5.03 0 3-1.89 5.41-4.52 5.41-.88 0-1.71-.46-1.99-1.01l-.54 2.06c-.2.76-.74 1.72-1.10 2.30A8 8 0 0 0 10 18c4.42 0 8-3.58 8-8s-3.58-8-8-8z" />
                </svg>
              </a>
              {% endif %}
              {% if section.settings.twitter_url != blank %}
              <a href="{{ section.settings.twitter_url }}" class="footer__social-link" aria-label="Twitter" target="_blank" rel="noopener">
                <svg width="20" height="20" fill="currentColor">
                  <path d="M18 3a9 9 0 0 1-2.59 1.26A4 4 0 0 0 11.5 7v1A9 9 0 0 1 3 4s-3.5 7.5 4 11a10 10 0 0 1-6 2c7.5 4 16 0 16-9.5 0-.23-.02-.46-.07-.69A6 6 0 0 0 18 3z" />
                </svg>
              </a>
              {% endif %}
              {% if section.settings.youtube_url != blank %}
              <a href="{{ section.settings.youtube_url }}" class="footer__social-link" aria-label="YouTube" target="_blank" rel="noopener">
                <svg width="20" height="20" fill="currentColor">
                  <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z" />
                  <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02" fill="#000" />
                </svg>
              </a>
              {% endif %}
              {% if section.settings.tiktok_url != blank %}
              <a href="{{ section.settings.tiktok_url }}" class="footer__social-link" aria-label="TikTok" target="_blank" rel="noopener">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
                </svg>
              </a>
              {% endif %}
            </div>
          {% endif %}
        </div>

        <!-- Dynamic Footer Columns -->
        {% for block in section.blocks %}
          {% if block.type == 'footer_column' %}
            <div class="footer__column" {{ block.shopify_attributes }}>
              <h3 class="footer__title">{{ block.settings.title }}</h3>
              <ul class="footer__links">
                {% for i in (1..10) %}
                  {% assign link_label = 'link_label_' | append: i %}
                  {% assign link_url = 'link_url_' | append: i %}
                  {% if block.settings[link_label] != blank %}
                    <li>
                      <a href="{{ block.settings[link_url] }}" class="footer__link">
                        {{ block.settings[link_label] }}
                      </a>
                    </li>
                  {% endif %}
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>

    <div class="footer__bottom">
      <div class="footer__bottom-content">
        <p class="footer__copyright">
          {{ section.settings.copyright_text | default: '&copy; [year] [shop_name]. All rights reserved.' | replace: '[year]', 'now' | date: '%Y' | replace: '[shop_name]', shop.name }}
        </p>
        <div class="footer__legal">
          {% if section.settings.privacy_policy_url != blank %}
            <a href="{{ section.settings.privacy_policy_url }}" class="footer__legal-link">
              {{ section.settings.privacy_policy_text | default: 'Privacy Policy' }}
            </a>
          {% endif %}
          {% if section.settings.terms_url != blank %}
            <a href="{{ section.settings.terms_url }}" class="footer__legal-link">
              {{ section.settings.terms_text | default: 'Terms of Service' }}
            </a>
          {% endif %}
          {% if section.settings.accessibility_url != blank %}
            <a href="{{ section.settings.accessibility_url }}" class="footer__legal-link">
              {{ section.settings.accessibility_text | default: 'Accessibility' }}
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "max_blocks": 4,
  "settings": [
    {
      "type": "header",
      "content": "Brand Section"
    },
    {
      "type": "checkbox",
      "id": "show_logo",
      "label": "Show Logo",
      "default": true
    },
    {
      "type": "image_picker",
      "id": "logo_image",
      "label": "Logo Image",
      "info": "Upload custom logo (optional)"
    },
    {
      "type": "text",
      "id": "brand_text",
      "label": "Brand Text",
      "default": "Creative Cups 'n' Mugs",
      "info": "Used in SVG logo if no image uploaded"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Footer Description",
      "default": "Transform your home with our curated collection of premium d√©cor and lifestyle essentials."
    },
    {
      "type": "header",
      "content": "Social Media"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Show Social Media Icons",
      "default": true
    },
    {
      "type": "url",
      "id": "instagram_url",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "facebook_url",
      "label": "Facebook URL"
    },
    {
      "type": "url",
      "id": "pinterest_url",
      "label": "Pinterest URL"
    },
    {
      "type": "url",
      "id": "twitter_url",
      "label": "Twitter URL"
    },
    {
      "type": "url",
      "id": "youtube_url",
      "label": "YouTube URL"
    },
    {
      "type": "url",
      "id": "tiktok_url",
      "label": "TikTok URL"
    },
    {
      "type": "header",
      "content": "Copyright & Legal"
    },
    {
      "type": "html",
      "id": "copyright_text",
      "label": "Copyright Text",
      "default": "&copy; [year] [shop_name]. All rights reserved.",
      "info": "Use [year] for current year, [shop_name] for shop name"
    },
    {
      "type": "url",
      "id": "privacy_policy_url",
      "label": "Privacy Policy URL",
      "info": "Example: /pages/privacy-policy"
    },
    {
      "type": "text",
      "id": "privacy_policy_text",
      "label": "Privacy Policy Text",
      "default": "Privacy Policy"
    },
    {
      "type": "url",
      "id": "terms_url",
      "label": "Terms of Service URL",
      "info": "Example: /pages/terms-of-service"
    },
    {
      "type": "text",
      "id": "terms_text",
      "label": "Terms of Service Text",
      "default": "Terms of Service"
    },
    {
      "type": "url",
      "id": "accessibility_url",
      "label": "Accessibility URL",
      "info": "Example: /pages/accessibility"
    },
    {
      "type": "text",
      "id": "accessibility_text",
      "label": "Accessibility Text",
      "default": "Accessibility"
    }
  ],
  "blocks": [
    {
      "type": "footer_column",
      "name": "Footer Column",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Column Title",
          "default": "Quick Links"
        },
        {
          "type": "header",
          "content": "Links (up to 10)"
        },
        {
          "type": "text",
          "id": "link_label_1",
          "label": "Link 1 Label"
        },
        {
          "type": "url",
          "id": "link_url_1",
          "label": "Link 1 URL"
        },
        {
          "type": "text",
          "id": "link_label_2",
          "label": "Link 2 Label"
        },
        {
          "type": "url",
          "id": "link_url_2",
          "label": "Link 2 URL"
        },
        {
          "type": "text",
          "id": "link_label_3",
          "label": "Link 3 Label"
        },
        {
          "type": "url",
          "id": "link_url_3",
          "label": "Link 3 URL"
        },
        {
          "type": "text",
          "id": "link_label_4",
          "label": "Link 4 Label"
        },
        {
          "type": "url",
          "id": "link_url_4",
          "label": "Link 4 URL"
        },
        {
          "type": "text",
          "id": "link_label_5",
          "label": "Link 5 Label"
        },
        {
          "type": "url",
          "id": "link_url_5",
          "label": "Link 5 URL"
        },
        {
          "type": "text",
          "id": "link_label_6",
          "label": "Link 6 Label"
        },
        {
          "type": "url",
          "id": "link_url_6",
          "label": "Link 6 URL"
        },
        {
          "type": "text",
          "id": "link_label_7",
          "label": "Link 7 Label"
        },
        {
          "type": "url",
          "id": "link_url_7",
          "label": "Link 7 URL"
        },
        {
          "type": "text",
          "id": "link_label_8",
          "label": "Link 8 Label"
        },
        {
          "type": "url",
          "id": "link_url_8",
          "label": "Link 8 URL"
        },
        {
          "type": "text",
          "id": "link_label_9",
          "label": "Link 9 Label"
        },
        {
          "type": "url",
          "id": "link_url_9",
          "label": "Link 9 URL"
        },
        {
          "type": "text",
          "id": "link_label_10",
          "label": "Link 10 Label"
        },
        {
          "type": "url",
          "id": "link_url_10",
          "label": "Link 10 URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer",
      "blocks": [
        {
          "type": "footer_column",
          "settings": {
            "title": "Shop",
            "link_label_1": "All Products",
            "link_url_1": "/collections/all",
            "link_label_2": "New Arrivals",
            "link_url_2": "/collections/new-arrivals",
            "link_label_3": "Bestsellers",
            "link_url_3": "/collections/bestsellers",
            "link_label_4": "Sale Items",
            "link_url_4": "/collections/sale",
            "link_label_5": "Gift Cards",
            "link_url_5": "/products/gift-card"
          }
        },
        {
          "type": "footer_column",
          "settings": {
            "title": "Customer Care",
            "link_label_1": "Contact Us",
            "link_url_1": "/pages/contact",
            "link_label_2": "Shipping Info",
            "link_url_2": "/pages/shipping",
            "link_label_3": "Returns & Exchanges",
            "link_url_3": "/pages/returns",
            "link_label_4": "Size Guide",
            "link_url_4": "/pages/size-guide",
            "link_label_5": "FAQ",
            "link_url_5": "/pages/faq"
          }
        },
        {
          "type": "footer_column",
          "settings": {
            "title": "About",
            "link_label_1": "Our Story",
            "link_url_1": "/pages/about",
            "link_label_2": "Sustainability",
            "link_url_2": "/pages/sustainability",
            "link_label_3": "Careers",
            "link_url_3": "/pages/careers",
            "link_label_4": "Press",
            "link_url_4": "/pages/press",
            "link_label_5": "Wholesale",
            "link_url_5": "/pages/wholesale"
          }
        }
      ]
    }
  ]
}
{% endschema %}
